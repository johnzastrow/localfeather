# ============================================================================
# Local Feather - Database Configuration
# ============================================================================
# Copy this file to config.ini and update with your MariaDB credentials
# DO NOT commit config.ini to version control!
# ============================================================================

[database]
# MariaDB Connection Settings
host = localhost
port = 3306
database = localfeather
username = localfeather_user
password = CHANGE_THIS_PASSWORD

# Connection Pool Settings
pool_size = 10
max_overflow = 20
pool_recycle = 3600
pool_pre_ping = true

# ============================================================================
# Development Database (SQLite fallback)
# ============================================================================
[database_dev]
# For development/testing without MariaDB
# Uncomment to use SQLite instead
# sqlite_path = ../data/localfeather_dev.db

# ============================================================================
# Application Settings
# ============================================================================
[app]
# Flask secret key (generate with: python -c "import secrets; print(secrets.token_hex(32))")
secret_key = CHANGE_THIS_TO_RANDOM_STRING

# Debug mode (NEVER use true in production!)
debug = false

# Server settings
host = 0.0.0.0
port = 5000

# ============================================================================
# Security Settings
# ============================================================================
[security]
# Bcrypt work factor (higher = more secure but slower)
bcrypt_rounds = 12

# Session cookie settings
session_cookie_secure = false
session_cookie_httponly = true
session_cookie_samesite = Lax

# API rate limiting
ratelimit_enabled = true
ratelimit_default = 100 per hour

# ============================================================================
# OTA Update Settings
# ============================================================================
[ota]
# Directory to store firmware files
firmware_dir = ../data/firmware

# Maximum firmware file size (bytes)
max_firmware_size = 2097152

# Automatic firmware cleanup (delete old versions)
cleanup_enabled = false
keep_versions = 5

# ============================================================================
# Data Retention
# ============================================================================
[retention]
# Automatic cleanup of old readings (0 = disabled)
cleanup_enabled = false
keep_days = 365

# ============================================================================
# Logging
# ============================================================================
[logging]
level = INFO
log_file = ../logs/localfeather.log
max_bytes = 10485760
backup_count = 5
